<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Settings - Etown ClubHub</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
    
  <!-- Custom CSS -->
  <link href="/style.css" rel="stylesheet">

</head>
<body>
  <header>
    <nav id="navbar"></nav>
  </header>

  <main>
    <div class="center-container">
        <div class="settings-container">
        <!-- Left-side menu -->
        <div class="settings-menu">
            <div class="nav flex-column nav-pills" role="tablist" aria-orientation="vertical">
            <a class="nav-link active" id="v-pills-user-tab" data-bs-toggle="pill" href="#userInfo" role="tab" aria-controls="v-pills-user" aria-selected="true">User Information</a>
            <a class="nav-link" id="v-pills-security-tab" data-bs-toggle="pill" href="#security" role="tab" aria-controls="v-pills-security" aria-selected="false">Security</a>
            <a class="nav-link" id="v-pills-notifications-tab" data-bs-toggle="pill" href="#notifications" role="tab" aria-controls="v-pills-notifications" aria-selected="false">Notifications</a>
            </div>
        </div>

        <!-- Content area -->
        <div class="settings-content">
            <div class="tab-content">
            <!-- User Information Section -->
            <div class="tab-pane fade show active" id="userInfo" role="tabpanel" aria-labelledby="v-pills-user-tab">
              <h3 class="mb-4">User Information</h3>
              <form id="userInfoForm">
                  <!-- Profile Picture Section -->
                  <div class="mb-3">
                      <img id="profilePicturePreview" src="" alt="Profile Picture">
                      <label for="profilePictureInput" class="form-label">Profile Picture</label>
                      <input type="file" class="form-control" id="profilePictureInput" accept="image/*">
                  </div>
                  <!-- Email Section -->
                  <div class="mb-3">
                      <label for="settingsEmail" class="form-label">Email address</label>
                      <input type="email" class="form-control bg-dark text-white" id="settingsEmail" aria-describedby="emailHelp" readonly>
                      <div id="emailHelp" class="form-text">Your email address is used for login and cannot be changed.</div>
                  </div>
                  <!-- Display Name Section -->
                  <div class="mb-3">
                      <label for="settingsDisplayName" class="form-label">Display Name</label>
                      <input type="text" class="form-control bg-dark text-white" id="settingsDisplayName">
                  </div>
                  <!-- Club Affiliations will be inserted here -->
                  <div id="clubAffiliationsContainer"></div>
                  <!-- Submit Button -->
                  <button type="submit" class="btn btn-clubhub">Save Changes</button>
              </form>
            </div>
            
            <!-- Security Section -->
            <div class="tab-pane fade" id="security" role="tabpanel" aria-labelledby="v-pills-security-tab">
                <h3 class="mb-4">Security</h3>
                <form id="changePasswordForm">
                  <div class="mb-3">
                    <label for="currentPassword" class="form-label">Current Password</label>
                    <div class="input-group">
                      <input type="password" class="form-control bg-dark text-white border-end-0" id="currentPassword" required>
                      <span class="input-group-text bg-dark border-start-0">
                        <i class="bi bi-eye-slash text-white" id="toggleCurrentPassword" style="cursor: pointer;"></i>
                      </span>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="newPassword" class="form-label">New Password</label>
                    <div class="input-group">
                      <input type="password" class="form-control bg-dark text-white border-end-0" id="newPassword" required>
                      <span class="input-group-text bg-dark border-start-0">
                        <i class="bi bi-eye-slash text-white" id="toggleNewPassword" style="cursor: pointer;"></i>
                      </span>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="confirmNewPassword" class="form-label">Confirm New Password</label>
                    <div class="input-group">
                      <input type="password" class="form-control bg-dark text-white border-end-0" id="confirmNewPassword" required>
                      <span class="input-group-text bg-dark border-start-0">
                        <i class="bi bi-eye-slash text-white" id="toggleConfirmNewPassword" style="cursor: pointer;"></i>
                      </span>
                    </div>
                  </div>
                  <p id="passwordHelp" class="form-text text-muted mb-4" style="display: none;">
                    Your password must contain at least 6 characters, one uppercase letter, one special character, and one number.
                  </p>
                  <p id="passwordHelpNoMatch" class="form-text text-muted mb-4" style="display: none;">
                    Passwords do not match.
                  </p>
                  <button type="submit" class="btn btn-clubhub">Change Password</button>
                </form>
              </div>
            
            <!-- Notifications Section -->
            <div class="tab-pane fade" id="notifications" role="tabpanel" aria-labelledby="v-pills-notifications-tab">
                <h3 class="mb-4">Notifications</h3>
                <form id="notificationsForm">
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="settingsNotifications">
                    <label class="form-check-label" for="settingsNotifications">Receive email notifications</label>
                </div>
                <button type="submit" class="btn btn-clubhub">Save Preferences</button>
                </form>
            </div>
            </div>
        </div>
        </div>
    </div>

  </main>

  <footer id="footer"></footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Firebase JS SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-storage-compat.js"></script>

  <!-- Custom Firebase -->
  <script src="/js/firebase.js"></script>

  <!-- Custom JS -->
  <script src="/js/global.js"></script>
  <script src="/js/settings.js"></script>
</body>
</html>